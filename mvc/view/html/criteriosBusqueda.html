{% extends 'incidencias.html' %}

{% block criterios %}
<div class="row">
    <div class="col">
        <form action={{ propias ? '"criteriosBusquedaController.php?info=propias"' : '"criteriosBusquedaController.php?info=generales"'}} class="criterios-busqueda" method="post">
            <h2>Criterios de búsqueda</h2>
            <div class="datos">
                <fieldset class="d-flex flex-wrap justify-content-start">
                    <legend>Ordenar por:</legend>
                    <div class="form-check m-0">
                        <input type="radio" name="ordenar" value="antiguedad" {{listaCriterios.orden is defined and listaCriterios.orden == 'antiguedad'? 'checked' : ''}}>
                        <label class="form-check-label m-0">
                            Antigüedad (primero la más reciente)
                        </label>
                    </div>
                    <div class="form-check m-0">
                        <input type="radio" name="ordenar" value="positivos" {{listaCriterios.orden is defined and listaCriterios.orden == 'positivos'? 'checked' : ''}}>
                        <label class="form-check-label m-0">
                            Número de positivos (de más a menos)
                        </label>
                    </div>
                    <div class="form-check m-0">
                        <input type="radio" name="ordenar" value="netos" {{listaCriterios.orden is defined and listaCriterios.orden == 'netos'? 'checked' : ''}}>
                        <label class="form-check-label m-0">
                            Número de positivos netos (de más a menos)
                        </label>
                    </div>
                </fieldset>
            </div>
            <div class="datos">
                <fieldset>
                    <legend>Incidencias que contengan:</legend>
                    <div class="datos">
                        <div class="row align-items-center">
                            <div class="col-12 col-md-2 col-sm-10 mb-1">
                                <label class="col-form-label m-0">Texto de búsqueda:</label>
                            </div>
                            <div class="col-11 col-md-9 col-sm-11  mb-1 m-0">
                                <input type="text" class="form-control" name="textoBusqueda" value={{listaCriterios.textoBusqueda != "" ? listaCriterios.textoBusqueda : ''}}>
                            </div>
                            <div class="col-12 col-md-2 col-sm-12 mb-1">
                                <label class="col-form-label  m-0">Lugar:</label>
                            </div>
                            <div class="col-11 col-md-9 col-sm-11 mb-1 m-0">
                                <input type="text" class="form-control" name="lugar" value={{listaCriterios.lugar != "" ? listaCriterios.lugar : ''}}>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="datos">
                <fieldset class="d-flex flex-wrap justify-content-start">
                    <legend>Estado:</legend>
                    <div class="form-check mr-5">
                        <input class="form-check-input" type="checkbox" name="estado[]" value="pendiente" id="estadoPendiente" {{"pendiente" in listaCriterios.estado ? 'checked' : ''}}>
                        <label class="form-check-label m-0" for="estadoPendiente">
                            Pendiente
                        </label>
                    </div>
                    <div class="form-check mr-5">
                        <input class="form-check-input" type="checkbox" name="estado[]" value="comprobada" id="estadoComprobada" {{"comprobada" in listaCriterios.estado ? 'checked' : ''}}>
                        <label class="form-check-label m-0" for="estadoComprobada">
                            Comprobada
                        </label>
                    </div>
                    <div class="form-check mr-5">
                        <input class="form-check-input" type="checkbox" name="estado[]"  value="tramitada" id="estadoTramitada" {{"tramitada" in listaCriterios.estado ? 'checked' : ''}}>
                        <label class="form-check-label m-0" for="estadoTramitada">
                            Tramitada
                        </label>
                    </div>
                    <div class="form-check mr-5">
                        <input class="form-check-input" type="checkbox" name="estado[]" value="irresoluble" id="estadoIrresoluble" {{"irresoluble" in listaCriterios.estado ? 'checked' : ''}}>
                        <label class="form-check-label m-0" for="estadoIrresoluble">
                            Irresoluble
                        </label>
                    </div>
                    <div class="form-check mr-5">
                        <input class="form-check-input" type="checkbox" name="estado[]" value="resuelta" id="estadoResuelta" {{"resuelta" in listaCriterios.estado ? 'checked' : ''}}>
                        <label class="form-check-label m-0" for="estadoResuelta">
                            Resuelta
                        </label>
                    </div>
                </fieldset>

                <div class="enviarDatos">
                    <label class="d-block">
                        Incidencias por página
                        <select name="numeroIncidencias">
                            <option value="1" {{listaCriterios.numeroIncidencias == "1" ? 'selected' : ''}}>1</option>
                            <option value="2" {{listaCriterios.numeroIncidencias == "2" ? 'selected' : ''}}>2</option>
                            <option value="3" {{listaCriterios.numeroIncidencias == "3" ? 'selected' : ''}}>3</option>
                            <option value="4" {{listaCriterios.numeroIncidencias == "4" ? 'selected' : ''}}>4</option>
                            <option value="5" {{listaCriterios.numeroIncidencias == "5" ? 'selected' : ''}}>5</option>
                        </select>
                    </label>
                    <input class="d-block m-auto" type="submit" value="Aplicar criterios de búsqueda"
                        name="enviarCriterios">
                </div>
            </div>
        </form>
    </div>
{% endblock%}